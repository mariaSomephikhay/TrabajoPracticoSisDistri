syntax = "proto3";

package managerservice;
option  java_multiple_files=true;
option java_package="com.grupoK.grpc";
option  java_outer_classname="ManagerServiceProto";


//PARA CUANDO ES NULO
message Empty{}

message UserUsername {
    string username = 1;
}

message UserId {
    int32 id = 1;
}

message Usuario {
    int32 id = 1;
    string username = 2;
    string password = 3;
    string email = 4;
    string nombre = 5;
    string apellido = 6;
    string telefono = 7;
    bool activo = 8;
    Rol rol = 9;
}

message Rol {
    int32 id = 1;
    string descripcion = 2;
}

message UsuarioList {
    repeated Usuario usuarios = 1;
}

message DonacionId {
    int32 id = 1;
}

message Donacion {
    int32 id = 1;
    Categoria categoria = 2;
    string descripcion = 3;
    int32 cantidad = 4;
    bool eliminado = 5;
    Usuario usuario = 6;
}

message DonacionList {
    repeated Donacion donacion = 1;
}
	
message Categoria {
    int32 id = 1;
    string descripcion = 2;
}

service ManagerService{
  rpc getUserByUsername (UserUsername) returns (Usuario) {};
  rpc getUserById (UserId) returns (Usuario) {};
  rpc getAllUsers (Empty) returns (UsuarioList) {};
  rpc insertOrUpdateUser (Usuario) returns (Usuario) {};
  rpc deleteUser (UserId) returns (Usuario) {};
  rpc insertOrUpdateDonacion (Donacion) returns (Donacion) {};
  rpc getDonacionById (DonacionId) returns (Donacion) {};
  rpc getAllDonaciones (Empty) returns (DonacionList) {};  
  rpc deleteDonacion (DonacionId) returns (Donacion) {};
  //AGREGAR ACA TODOS LOS SERVICIOS
  
}